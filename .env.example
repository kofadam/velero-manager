# Velero Manager Environment Configuration

# ======================================
# OIDC / Keycloak Authentication
# ======================================

# Enable OIDC authentication (true/false)
OIDC_ENABLED=true

# Keycloak server configuration
OIDC_ISSUER_URL=https://keycloak.company.com/auth/realms/your-realm
OIDC_CLIENT_ID=velero-manager
OIDC_CLIENT_SECRET=your-secret-from-keycloak

# Application callback URL
OIDC_REDIRECT_URL=https://velero-manager.company.com/auth/callback

# Role and group mapping
OIDC_ROLES_CLAIM=realm_access.roles
OIDC_GROUPS_CLAIM=groups
OIDC_ADMIN_ROLES=velero-admin,realm-admin,backup-admin
OIDC_ADMIN_GROUPS=velero-administrators,platform-team,backup-operators
OIDC_DEFAULT_ROLE=user

# User information mapping
OIDC_USERNAME_CLAIM=preferred_username
OIDC_EMAIL_CLAIM=email  
OIDC_FULL_NAME_CLAIM=name

# ======================================
# Application Configuration
# ======================================

# Server port (default: 8080)
PORT=8080

# Gin mode (debug/release)
GIN_MODE=release

# ======================================
# Kubernetes Configuration
# ======================================

# Use in-cluster config or local kubeconfig
# KUBECONFIG=/path/to/kubeconfig

# ======================================
# Example Corporate Keycloak Setup
# ======================================

# For a corporate environment with Keycloak:
# OIDC_ENABLED=true
# OIDC_ISSUER_URL=https://sso.company.com/auth/realms/company
# OIDC_CLIENT_ID=velero-manager
# OIDC_CLIENT_SECRET=abc123-secret-xyz789
# OIDC_REDIRECT_URL=https://velero-manager.company.com/auth/callback
# OIDC_ADMIN_GROUPS=platform-administrators,backup-admins
# OIDC_DEFAULT_ROLE=user

# ======================================
# Development/Testing
# ======================================

# For local development without OIDC:
# OIDC_ENABLED=false
# 
# This will use legacy username/password authentication
# Default credentials: admin/admin